<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>BetWin — Crypto Prediction (Demo)</title>

<!-- Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>

<!-- Fonts + small reset -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">

<style>
  :root{
    --bg:#121212;
    --panel:#1e1e1f;
    --muted:#9aa0a6;
    --accent:#ff9800;
    --green:#00d084;
    --red:#ff4d4f;
    --glass: rgba(255,255,255,0.02);
    --radius:14px;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    font-family:Inter,system-ui,Segoe UI,Roboto,"Helvetica Neue",Arial;
    background:linear-gradient(180deg,#0f0f10 0%, #0b0b0b 100%);
    color:#fff;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    padding:18px;
  }

  /* Container */
  .wrap{
    max-width:820px;
    margin:0 auto;
  }

  header{
    text-align:center;
    margin-bottom:12px;
  }
  header h1{
    margin:0;
    font-size:26px;
    font-weight:700;
    letter-spacing:0.2px;
  }

  /* Panel */
  .card{
    background:var(--panel);
    border-radius:var(--radius);
    padding:16px;
    box-shadow: 0 6px 18px rgba(0,0,0,0.45);
    margin-bottom:16px;
  }

  /* Chart area */
  .chart-wrap{
    position:relative;
    overflow:hidden;
  }
  canvas{display:block;width:100% !important;height:320px !important;border-radius:10px;}

  /* Floating price badge */
  .price-badge{
    position:absolute;
    right:14px;
    top:44%;
    transform:translateY(-50%);
    background:linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
    padding:10px 14px;
    border-radius:10px;
    font-weight:700;
    color:#fff;
    box-shadow:0 6px 18px rgba(0,0,0,0.45);
    pointer-events:none;
    min-width:96px;
    text-align:center;
  }
  .price-badge .label{font-size:12px;color:var(--muted);font-weight:600}
  .price-badge .value{font-size:18px;margin-top:4px}

  /* top stats row */
  .stats-row{
    display:flex;
    justify-content:space-between;
    gap:10px;
    margin-bottom:10px;
    align-items:center;
  }
  .stat{
    flex:1;
    text-align:center;
  }
  .stat .big{font-size:20px;font-weight:700}
  .stat .muted{font-size:12px;color:var(--muted)}

  /* Deposit card styling */
  .deposit {
    text-align:center;
    padding:22px;
  }
  .deposit .title{font-size:20px;font-weight:700;margin-bottom:8px}
  .deposit .addr{font-weight:700;margin:8px 0;color:#fff;letter-spacing:0.6px}
  .copy-btn{
    display:inline-block;
    background:linear-gradient(180deg,var(--accent),#f57c00);
    border:none;
    padding:12px 18px;
    color:#000;
    border-radius:10px;
    font-weight:700;
    cursor:pointer;
    box-shadow: 0 8px 24px rgba(255,152,0,0.12);
  }

  /* Three doughts */
  .doughts{
    display:flex;
    gap:12px;
    margin-top:12px;
    flex-wrap:wrap;
  }
  .dought{
    flex:1 1 calc(33.333% - 8px);
    background:var(--glass);
    padding:16px;
    border-radius:12px;
    min-width:160px;
    text-align:left;
  }
  .dought h4{margin:0 0 8px 0;font-size:18px}
  .dought p{margin:0;color:var(--muted);font-size:14px}

  /* Bot / action area */
  .controls{
    display:flex;
    gap:12px;
    align-items:center;
    margin-top:14px;
    flex-wrap:wrap;
  }
  .bot-card{
    display:flex;
    gap:12px;
    align-items:center;
    background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    padding:12px;
    border-radius:12px;
    min-width:200px;
  }
  .bot-card img{width:56px;height:56px;border-radius:10px;object-fit:cover}
  .bot-card .meta{line-height:1}
  .bot-card .meta .name{font-weight:700}
  .bot-card .meta .role{font-size:13px;color:var(--muted)}

  /* Amount selector + quick buttons */
  .bets {
    display:flex;
    gap:10px;
    align-items:center;
    justify-content:space-between;
    margin-top:12px;
    flex-wrap:wrap;
  }
  .amount-row{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
  .chip{background:#151515;padding:10px 14px;border-radius:10px;color:var(--muted);font-weight:700}
  .quick{background:#171717;padding:10px 14px;border-radius:10px;color:#fff}

  /* Big action buttons */
  .actions{
    display:flex;
    gap:12px;
    margin-top:14px;
  }
  .btn-up, .btn-down{
    flex:1;
    padding:14px 12px;
    border-radius:12px;
    font-weight:800;
    font-size:18px;
    cursor:pointer;
    border:0;
  }
  .btn-up{
    background:linear-gradient(180deg, rgba(0,208,132,0.12), rgba(0,208,132,0.06));
    color:var(--green);
    box-shadow:inset 0 -3px 0 rgba(0,208,132,0.06);
  }
  .btn-down{
    background:linear-gradient(180deg, rgba(255,77,79,0.12), rgba(255,77,79,0.06));
    color:var(--red);
    box-shadow:inset 0 -3px 0 rgba(255,77,79,0.06);
  }

  /* small footer info */
  .footer-row{display:flex;gap:12px;justify-content:space-between;align-items:center;margin-top:12px}
  .muted-small{color:var(--muted);font-size:13px}

  /* Responsive */
  @media (max-width:720px){
    .dought{flex:1 1 48%}
    canvas{height:260px !important}
    .bot-card{min-width:140px}
    .price-badge{right:10px;top:50%}
  }
  @media (max-width:420px){
    .dought{flex:1 1 100%}
    .actions{flex-direction:row}
    .bot-card img{width:48px;height:48px}
    header h1{font-size:20px}
    canvas{height:220px !important}
  }
</style>
</head>
<body>
  <div class="wrap">
    <header>
      <h1>BetWin Crypto Prediction</h1>
    </header>

    <!-- Chart Card -->
    <section class="card chart-wrap" id="chartCard">
      <div class="stats-row" style="margin-bottom:12px">
        <div class="stat">
          <div class="big" id="upWins">$1.00</div>
          <div class="muted">Up Wins</div>
        </div>
        <div style="flex:0 0 72px; text-align:center;">
          <div class="muted" style="font-size:12px">Round</div>
          <div id="roundTimer" style="font-weight:800;font-size:22px;color:var(--accent);">8s</div>
        </div>
        <div class="stat">
          <div class="big" id="downWins">$1.00</div>
          <div class="muted">Down Wins</div>
        </div>
      </div>

      <canvas id="liveChart"></canvas>

      <div class="price-badge" id="priceBadge">
        <div class="label">LIVE</div>
        <div class="value" id="priceValue">117,695.16</div>
      </div>
    </section>

    <!-- Deposit -->
    <section class="card deposit">
      <div class="title">Deposit</div>
      <div class="muted">Send crypto to this wallet:</div>
      <div class="addr" id="walletAddr">0xYourWalletAddressHere</div>
      <button class="copy-btn" id="copyBtn">Copy Address</button>
    </section>

    <!-- Doughts -->
    <section class="doughts">
      <div class="dought card">
        <h4>Dought 1</h4>
        <p>Prediction info 1 — latest signal, confidence 72%</p>
      </div>
      <div class="dought card">
        <h4>Dought 2</h4>
        <p>Prediction info 2 — resistance tested, next move watch</p>
      </div>
      <div class="dought card">
        <h4>Dought 3</h4>
        <p>Prediction info 3 — support bounce probable</p>
      </div>
    </section>

    <!-- Bot + Bets -->
    <section class="card">
      <div class="controls">
        <div class="bot-card">
          <img src="https://i.pravatar.cc/100?img=32" alt="bot-up">
          <div class="meta">
            <div class="name">CryptoBot X1</div>
            <div class="role">UP Predictor</div>
          </div>
        </div>

        <div class="bot-card">
          <img src="https://i.pravatar.cc/100?img=45" alt="bot-down">
          <div class="meta">
            <div class="name">TrendMaster 9</div>
            <div class="role">DOWN Predictor</div>
          </div>
        </div>

        <div style="flex:1"></div>
      </div>

      <div class="bets">
        <div class="amount-row">
          <div class="chip">$</div>
          <div class="quick">$5</div>
          <div class="quick">$10</div>
          <div class="quick">$20</div>
          <div class="quick">$50</div>
        </div>

        <div style="text-align:right">
          <div class="muted-small">Players: <strong id="playersCount">412</strong></div>
          <div class="muted-small">Payouts: <strong id="payouts">$21,839,206.45</strong></div>
        </div>
      </div>

      <div class="actions">
        <button class="btn-up" id="btnUp">⬆ Up</button>
        <button class="btn-down" id="btnDown">⬇ Down</button>
      </div>

      <div class="footer-row">
        <div class="muted-small">0 Winner</div>
        <div class="muted-small" id="potAmount">$201.05</div>
      </div>
    </section>

  </div>

<script>
/* ---------------------------
   Simulated live chart logic
   --------------------------- */

const ctx = document.getElementById('liveChart').getContext('2d');

let data = generateInitialData(28); // initial points
let labels = data.map((_,i) => i);

function generateInitialData(n){
  let arr = [];
  let base = 117600;
  for(let i=0;i<n;i++){
    base += (Math.random()*40 - 20) * 0.6; // small movements
    arr.push(Math.round(base + Math.random()*6 - 3));
  }
  return arr;
}

/* Create gradient placeholders;
   We'll swap gradient colors depending on movement */
function createGradientUp(ctx, chartArea){
  const g = ctx.createLinearGradient(0, chartArea.top, 0, chartArea.bottom);
  g.addColorStop(0, 'rgba(0,208,132,0.18)');
  g.addColorStop(0.6, 'rgba(0,208,132,0.06)');
  g.addColorStop(1, 'rgba(0,208,132,0.02)');
  return g;
}
function createGradientDown(ctx, chartArea){
  const g = ctx.createLinearGradient(0, chartArea.top, 0, chartArea.bottom);
  g.addColorStop(0, 'rgba(255,77,79,0.18)');
  g.addColorStop(0.6, 'rgba(255,77,79,0.06)');
  g.addColorStop(1, 'rgba(255,77,79,0.02)');
  return g;
}

/* Custom plugin: draw vertical live line */
const liveLinePlugin = {
  id: 'liveLinePlugin',
  afterDraw(chart) {
    const {ctx, chartArea, scales} = chart;
    if(!chartArea) return;
    ctx.save();
    const x = chartArea.right - 10; // small inset from right
    ctx.beginPath();
    ctx.strokeStyle = 'rgba(255,255,255,0.06)';
    ctx.lineWidth = 1;
    ctx.setLineDash([4,6]);
    ctx.moveTo(x, chartArea.top);
    ctx.lineTo(x, chartArea.bottom);
    ctx.stroke();
    ctx.restore();
  }
};

/* Instantiate chart */
const liveChart = new Chart(ctx, {
  type: 'line',
  data: {
    labels: labels,
    datasets: [{
      label: 'Price',
      data: data,
      borderWidth: 3,
      borderColor: '#00d084', // will update dynamically
      pointRadius: 3,
      pointBackgroundColor: '#0f0',
      tension: 0.34,
      fill: true,
      backgroundColor: function(context){
        const chart = context.chart;
        const {ctx, chartArea} = chart;
        if(!chartArea) return null;
        // choose gradient based on last movement
        const last = data[data.length-1];
        const prev = data[data.length-2] ?? last;
        return last >= prev ? createGradientUp(ctx, chartArea) : createGradientDown(ctx, chartArea);
      },
      segment: {
        borderColor: ctx => {
          // color segments individually based on direction
          return ctx.p0.parsed.y <= ctx.p1.parsed.y ? '#00d084' : '#ff4d4f';
        }
      }
    }]
  },
  options: {
    responsive: true,
    maintainAspectRatio: false,
    interaction: {
      intersect: false,
      mode: 'index',
    },
    plugins: {
      legend:{display:false},
      tooltip:{
        enabled:true,
        backgroundColor:'#151515',
        titleColor:'#fff',
        bodyColor:'#fff',
        borderColor:'rgba(255,255,255,0.03)',
        borderWidth:1,
        callbacks:{
          label: (ctx) => ` ${Number(ctx.parsed.y).toLocaleString()} `
        }
      }
    },
    scales: {
      x: {
        grid: { color: 'rgba(255,255,255,0.04)' },
        ticks: { color: 'rgba(255,255,255,0.45)' , display:false}
      },
      y: {
        grid: { color: 'rgba(255,255,255,0.03)' },
        ticks: { color: 'rgba(255,255,255,0.45)', callback: v => Number(v).toLocaleString() }
      }
    },
    animation: {
      duration: 800,
      easing: 'easeOutQuart'
    }
  },
  plugins: [liveLinePlugin]
});

/* Update badge and colors & simulate live feed */
const priceValue = document.getElementById('priceValue');
const priceBadge = document.getElementById('priceBadge');
const upWins = document.getElementById('upWins');
const downWins = document.getElementById('downWins');

function pushNextPoint() {
  const last = data[data.length-1];
  // simulate random but smoother movement
  let change = (Math.random()*20 - 10) * (Math.random()*0.6 + 0.2);
  // add occasional bigger jumps
  if(Math.random() < 0.06) change *= (Math.random() < 0.5 ? 2.5 : -2.5);
  const next = Math.round(Math.max(1000, last + change));
  data.push(next);
  data.shift();
  liveChart.data.datasets[0].data = data;
  liveChart.data.labels = data.map((_,i)=>i);
  // update border color based on last slope
  const slope = data[data.length-1] - data[data.length-2];
  const border = slope >= 0 ? '#00d084' : '#ff4d4f';
  liveChart.data.datasets[0].borderColor = border;
  // update price badge
  priceValue.innerText = Number(data[data.length-1]).toLocaleString();
  // update small top stats demo numbers (visual only)
  if(slope >= 0){
    upWins.innerText = `$${(1 + Math.abs(slope)/10).toFixed(2)}`;
    downWins.innerText = `$${(1 - Math.abs(slope)/30).toFixed(2)}`;
  } else {
    downWins.innerText = `$${(1 + Math.abs(slope)/10).toFixed(2)}`;
    upWins.innerText = `$${(1 - Math.abs(slope)/30).toFixed(2)}`;
  }
  // update chart (triggers background function)
  liveChart.update();
}

/* Run update interval to simulate live stream */
let liveInterval = setInterval(pushNextPoint, 1800);

/* Copy wallet address */
document.getElementById('copyBtn').addEventListener('click', async () => {
  const addr = document.getElementById('walletAddr').innerText;
  try{
    await navigator.clipboard.writeText(addr);
    const old = document.getElementById('copyBtn').innerText;
    document.getElementById('copyBtn').innerText = 'Copied ✓';
    setTimeout(()=> document.getElementById('copyBtn').innerText = 'Copy Address', 1500);
  }catch(e){
    alert('Copy failed — select & copy manually');
  }
});

/* Round timer (visual) */
let round = 12;
const rt = document.getElementById('roundTimer');
setInterval(()=>{
  round--;
  if(round <= 0){
    round = 12;
    // small flash effect
    rt.style.transform = 'scale(1.06)';
    setTimeout(()=> rt.style.transform = 'scale(1)',160);
  }
  rt.innerText = round + 's';
},1000);

/* Up / Down button demo (visual) */
document.getElementById('btnUp').addEventListener('click', ()=>{
  // simulate immediate green push
  for(let i=0;i<3;i++){
    const last = data[data.length-1];
    data.push(Math.round(last + (Math.random()*6 + 6)));
    data.shift();
  }
  liveChart.update();
});
document.getElementById('btnDown').addEventListener('click', ()=>{
  for(let i=0;i<3;i++){
    const last = data[data.length-1];
    data.push(Math.round(last - (Math.random()*6 + 6)));
    data.shift();
  }
  liveChart.update();
});

/* quick-demo: highlight pot amount change */
const pot = document.getElementById('potAmount');
setInterval(()=>{
  pot.innerText = '$' + (150 + Math.round(Math.random()*600)).toFixed(2);
},5000);

/* Responsive tweak: ensure gradient updates after chart resize */
new ResizeObserver(()=> liveChart.update()).observe(document.getElementById('chartCard'));
</script>
</body>
</html>
