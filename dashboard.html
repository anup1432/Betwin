<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="dashboard-container">
    <h2>ðŸ“Š Dashboard</h2>

    <h3>Deposits</h3>
    <table id="depositTable">
      <tr><th>Name</th><th>Wallet</th><th>Amount</th><th>Status</th></tr>
    </table>

    <h3>Withdrawals</h3>
    <table id="withdrawTable">
      <tr><th>Name</th><th>Wallet</th><th>Amount</th><th>Status</th></tr>
    </table>
  </div>

  <script>
    const API_BASE = "https://betwin-backend.onrender.com";

    async function loadData() {
      let deposits = await fetch(`${API_BASE}/api/deposit`).then(r => r.json());
      let depositTable = document.getElementById("depositTable");
      deposits.forEach(d => {
        let row = depositTable.insertRow();
        row.insertCell(0).textContent = d.username;
        row.insertCell(1).textContent = d.wallet;
        row.insertCell(2).textContent = d.amount;
        row.insertCell(3).textContent = d.status || "Pending";
      });

      let withdraws = await fetch(`${API_BASE}/api/withdraw`).then(r => r.json());
      let withdrawTable = document.getElementById("withdrawTable");
      withdraws.forEach(w => {
        let row = withdrawTable.insertRow();
        row.insertCell(0).textContent = w.username;
        row.insertCell(1).textContent = w.wallet;
        row.insertCell(2).textContent = w.amount;
        row.insertCell(3).textContent = w.status || "Pending";
      });
    }

    loadData();
  </script>
</body>
</html>
